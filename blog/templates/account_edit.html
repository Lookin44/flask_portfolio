{% extends "base.html" %}
{% block content %}
  <div class="border border-warning shadow rounded-3 m-4 p-4">
    <form method="post" action="{{ url_for('account_edit') }}" enctype="multipart/form-data">
      {{form.hidden_tag()}}
      <fieldset class="form-group">
        <legend class="mb-4">Редактирование профиля</legend>
          <div class="row">
            <div class="col">
              <div class="form-floating mb-3">
                {% if form.name.errors %}
                  {{ form.name(class="form-control is-invalid", placeholder="Имя") }}
                  {{ form.name.label() }}
                  <div class="invalid-feedback">
                    {% for error in form.name.errors %}
                      <span>{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form.name(class="form-control", placeholder="Имя") }}
                  {{ form.name.label() }}
                {% endif %}
              </div>
            </div>
            <div class="col">
              <div class="form-floating mb-3">
                {% if form.last_name.errors %}
                  {{ form.last_name(class="form-control is-invalid", placeholder="Фамилия") }}
                  {{ form.last_name.label() }}
                  <div class="invalid-feedback">
                    {% for error in form.last_name.errors %}
                      <span>{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form.last_name(class="form-control", placeholder="Фамилия") }}
                  {{ form.last_name.label() }}
                {% endif %}
              </div>
            </div>
          </div>
          <div class="form-floating mb-3">
            {% if form.user_email.errors %}
              {{ form.user_email(class="form-control is-invalid", placeholder="Почта") }}
              {{ form.user_email.label() }}
              <div class="invalid-feedback">
                {% for error in form.user_email.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.user_email(class="form-control", placeholder="Почта") }}
              {{ form.user_email.label() }}
            {% endif %}
          </div>
          <div class="form-floating mb-3">
            {% if form.about.errors %}
              {{ form.about(class="form-control is-invalid", placeholder="О себе", style="height: 120px") }}
              {{ form.about.label() }}
              <div class="invalid-feedback">
                {% for error in form.about.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.about(class="form-control", placeholder="О себе", rows="3", style="height: 120px") }}
              {{ form.about.label() }}
            {% endif %}
          </div>
          <div class="form-floating mb-3">
            {{ form.picture(class="form-control-file") }}
            {% if form.picture.errors %}
              {% for error in form.picture.errors %}
                <span class="alert alert-danger">{{ error }}</span>
              {% endfor %}
            {% endif %}
          </div>
          <div class="form-floating mb-3">
              <button class="btn btn-warning" type="submit">Сохранить</button>
          </div>
      </fieldset>
    </form>
  </div>
{% endblock content %}
